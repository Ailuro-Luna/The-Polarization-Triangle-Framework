# Zealotå’ŒMoralityåˆ†æå®éªŒ - åˆ†ç¦»å¼è¿è¡ŒæŒ‡å—

## æ¦‚è¿°

æˆ‘ä»¬å°†åŸæ¥çš„ `run_zealot_morality_analysis` å‡½æ•°åˆ†æˆäº†ä¸¤ä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ï¼š

1. **æ•°æ®æ”¶é›†é˜¶æ®µ**: `run_and_accumulate_data()` - è¿è¡Œæµ‹è¯•å¹¶ä»¥è¿½åŠ æ¨¡å¼ä¿å­˜æ•°æ®
2. **ç»˜å›¾é˜¶æ®µ**: `plot_from_accumulated_data()` - ä»ç´¯ç§¯æ•°æ®ç”Ÿæˆå›¾è¡¨

## ä¸»è¦ä¼˜åŠ¿

âœ… **ç´¯ç§¯æ•°æ®**: å¯ä»¥å¤šæ¬¡è¿è¡Œæµ‹è¯•ï¼Œæ¯æ¬¡ç§¯ç´¯æ›´å¤šæ•°æ®  
âœ… **åˆ†ç¦»å¤„ç†**: æ•°æ®æ”¶é›†å’Œç»˜å›¾å¯ä»¥åˆ†å¼€è¿›è¡Œ  
âœ… **è¿è¡Œæ¬¡æ•°æ ‡è¯†**: å›¾è¡¨æ–‡ä»¶åè‡ªåŠ¨åŒ…å«æ€»è¿è¡Œæ¬¡æ•°ä¿¡æ¯  
âœ… **å‘åå…¼å®¹**: åŸæœ‰çš„ä¸€æ¬¡æ€§è¿è¡ŒåŠŸèƒ½ä»ç„¶å¯ç”¨  

## ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: åˆ†æ­¥éª¤è¿è¡Œï¼ˆæ¨èï¼‰

#### ç¬¬ä¸€æ­¥: æ”¶é›†æ•°æ®
```python
from polarization_triangle.experiments.zealot_morality_analysis import run_and_accumulate_data

# ç¬¬ä¸€æ¬¡è¿è¡Œ - å¿«é€Ÿæµ‹è¯•
run_and_accumulate_data(
    output_dir="results/my_experiment",
    num_runs=5,  # æœ¬æ¬¡è¿è¡Œ5è½®
    max_zealots=30,
    max_morality=30,
    batch_name="quick_test"  # å¯é€‰ï¼šæ‰¹æ¬¡åç§°
)

# ç¬¬äºŒæ¬¡è¿è¡Œ - å¢åŠ æ›´å¤šæ•°æ®
run_and_accumulate_data(
    output_dir="results/my_experiment",
    num_runs=10,  # å†è¿è¡Œ10è½®
    max_zealots=30,
    max_morality=30,
    batch_name="detailed_run"
)

# å¯ä»¥ç»§ç»­è¿è¡Œæ›´å¤šæ‰¹æ¬¡...
```

#### ç¬¬äºŒæ­¥: ç”Ÿæˆå›¾è¡¨
```python
from polarization_triangle.experiments.zealot_morality_analysis import plot_from_accumulated_data

# ä»æ‰€æœ‰ç´¯ç§¯æ•°æ®ç”Ÿæˆå›¾è¡¨
plot_from_accumulated_data("results/my_experiment")
```

### æ–¹æ³•2: ä¸€æ¬¡æ€§è¿è¡Œï¼ˆå‘åå…¼å®¹ï¼‰

```python
from polarization_triangle.experiments.zealot_morality_analysis import run_zealot_morality_analysis

# ä¼ ç»Ÿçš„ä¸€æ¬¡æ€§è¿è¡Œ
run_zealot_morality_analysis(
    output_dir="results/traditional_run",
    num_runs=15,
    max_zealots=30,
    max_morality=30
)
```

## æ–‡ä»¶ç»“æ„

è¿è¡Œåä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ç»“æ„ï¼š

```
results/my_experiment/
â”œâ”€â”€ accumulated_data/                    # ç´¯ç§¯æ•°æ®æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ zealot_numbers_*_accumulated.csv # Zealotæ•°é‡åˆ†ææ•°æ®
â”‚   â”œâ”€â”€ morality_ratios_*_accumulated.csv # Moralityæ¯”ä¾‹åˆ†ææ•°æ®
â”‚   â””â”€â”€ batch_info_*.txt                 # æ‰¹æ¬¡ä¿¡æ¯æ–‡ä»¶
â”œâ”€â”€ error_bar_plots/                     # è¯¯å·®æ¡å›¾è¡¨
â”‚   â”œâ”€â”€ zealot_numbers_*_15runs.png
â”‚   â””â”€â”€ morality_ratios_*_15runs.png
â”œâ”€â”€ scatter_plots/                       # æ•£ç‚¹å›¾è¡¨
â”œâ”€â”€ mean_plots/                          # å‡å€¼æ›²çº¿å›¾è¡¨
â””â”€â”€ combined_plots/                      # ç»„åˆå›¾è¡¨
```

## æ–‡ä»¶å‘½åè§„åˆ™

å›¾è¡¨æ–‡ä»¶åè‡ªåŠ¨åŒ…å«è¿è¡Œæ¬¡æ•°ä¿¡æ¯ï¼š
- `zealot_numbers_mean_opinion_15runs.png` - ä½¿ç”¨äº†15æ¬¡æ€»è¿è¡Œæ•°æ®
- `morality_ratios_variance_5-12runs.png` - ä¸åŒç»„åˆä½¿ç”¨äº†5-12æ¬¡æ€»è¿è¡Œæ•°æ®

## è€—æ—¶ç»Ÿè®¡

ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—å’Œæ˜¾ç¤ºå„é˜¶æ®µè€—æ—¶ï¼š

### æ•°æ®æ”¶é›†é˜¶æ®µ
- æ¯ä¸ªå‚æ•°ç»„åˆçš„è¿è¡Œè€—æ—¶
- ä¸¤ç§æµ‹è¯•ç±»å‹ï¼ˆZealot Numbers, Morality Ratiosï¼‰çš„åˆ†åˆ«è€—æ—¶  
- æ•°æ®æ”¶é›†é˜¶æ®µæ€»è€—æ—¶

### ç»˜å›¾é˜¶æ®µ
- å›¾è¡¨ç”Ÿæˆé˜¶æ®µæ€»è€—æ—¶

### æ€»è€—æ—¶
- mainå‡½æ•°æ‰§è¡Œçš„å®Œæ•´è€—æ—¶
- åŒ…å«æ•°æ®æ”¶é›†å’Œç»˜å›¾çš„æ‰€æœ‰æ—¶é—´

ç¤ºä¾‹è¾“å‡ºï¼š
```
ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’
â±ï¸  å®Œæ•´å®éªŒè€—æ—¶æ€»ç»“
ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’
ğŸ“Š æ•°æ®æ”¶é›†é˜¶æ®µè€—æ—¶: 0h 25m 30.45s
ğŸ“ˆ å›¾è¡¨ç”Ÿæˆé˜¶æ®µè€—æ—¶: 0h 0m 5.20s
ğŸ¯ æ€»è€—æ—¶: 0h 25m 35.65s
ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’ğŸ•’
```

## æ•°æ®æ ¼å¼

ç´¯ç§¯æ•°æ®CSVæ–‡ä»¶åŒ…å«ä»¥ä¸‹åˆ—ï¼š
- `x_value`: Xè½´å–å€¼ï¼ˆzealotæ•°é‡æˆ–moralityæ¯”ä¾‹ï¼‰
- `metric`: æŒ‡æ ‡åç§°ï¼ˆmean_opinion, variance, etc.ï¼‰
- `run`: è¿è¡Œç¼–å·
- `value`: æµ‹é‡å€¼
- `combination`: å‚æ•°ç»„åˆæ ‡è¯†
- `batch_id`: æ‰¹æ¬¡æ ‡è¯†
- `timestamp`: æ—¶é—´æˆ³

## å®é™…ä½¿ç”¨ç¤ºä¾‹

æŸ¥çœ‹ `example_usage.py` æ–‡ä»¶è·å–å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ï¼š

```bash
# è¿è¡Œå¤šæ¬¡å¢é‡æµ‹è¯•ç¤ºä¾‹
python example_usage.py incremental

# è¿è¡Œä¼ ç»Ÿä¸€æ¬¡æ€§æµ‹è¯•ç¤ºä¾‹  
python example_usage.py single

# åªæ”¶é›†æ•°æ®ï¼ˆç¨åç»˜å›¾ï¼‰
python example_usage.py data_only

# åªä»ç°æœ‰æ•°æ®ç”Ÿæˆå›¾è¡¨
python example_usage.py plot_only
```

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®è¿½åŠ **: æ¯æ¬¡è¿è¡Œ `run_and_accumulate_data()` éƒ½ä¼šè¿½åŠ æ–°æ•°æ®ï¼Œä¸ä¼šè¦†ç›–ç°æœ‰æ•°æ®
2. **æ‰¹æ¬¡æ ‡è¯†**: å»ºè®®ä¸ºæ¯æ¬¡è¿è¡Œæä¾›æœ‰æ„ä¹‰çš„ `batch_name`ï¼Œä¾¿äºç®¡ç†
3. **å‚æ•°ä¸€è‡´æ€§**: ç¡®ä¿å¤šæ¬¡è¿è¡Œä½¿ç”¨ç›¸åŒçš„ `max_zealots` å’Œ `max_morality` å‚æ•°
4. **å­˜å‚¨ç©ºé—´**: ç´¯ç§¯æ•°æ®ä¼šå ç”¨ä¸€å®šå­˜å‚¨ç©ºé—´ï¼Œå®šæœŸæ¸…ç†æ—§æ•°æ®

## æ€§èƒ½å»ºè®®

- **å¿«é€Ÿæµ‹è¯•**: å…ˆç”¨å°‘é‡ `num_runs` (3-5) è¿›è¡Œå¿«é€Ÿæµ‹è¯•
- **è¯¦ç»†åˆ†æ**: å†ç”¨æ›´å¤š `num_runs` (10-20) è·å¾—ç²¾ç¡®ç»“æœ  
- **åˆ†æ‰¹è¿è¡Œ**: å¯ä»¥åˆ†å¤šæ¬¡è¿è¡Œï¼Œé¿å…ä¸€æ¬¡è¿è¡Œæ—¶é—´è¿‡é•¿ 